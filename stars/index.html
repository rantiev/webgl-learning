<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Stars</title>
	<link rel="stylesheet" href="../styles/global.css"/>
</head>
<body>
	<canvas id="raCanvas" width="640" height="480">
		Your browser doesn't appear to support the HTML5 <code>&lt;canvas&gt;</code> element.
	</canvas>



	<script id="shader-fs" type="x-shader/x-fragment">
    precision mediump float;

    varying vec2 vTextureCoord;
    varying vec4 vVertexPosition;

    uniform sampler2D uSampler;

    uniform vec3 uColor;

    float snoise(vec2 co){
        return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);
    }

    void main(void) {
        vec4 noise = (vVertexPosition.xyzw / vVertexPosition.wwww) * 0.5 + 0.5;

        if (noise.x > 0.5) {
            noise.x = 1.0;
        }

        vec4 textureColor = texture2D(uSampler, vec2(vTextureCoord.s, vTextureCoord.t));
        gl_FragColor = textureColor * vec4(uColor, 1.0) * snoise(vTextureCoord);
    }
	</script>

	<script id="shader-vs" type="x-shader/x-vertex">
    attribute vec3 aVertexPosition;
    attribute vec2 aTextureCoord;

    uniform mat4 uMVMatrix;
    uniform mat4 uPMatrix;

    varying vec2 vTextureCoord;
    varying vec4 vVertexPosition;

    void main(void) {
        gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);
        vVertexPosition = gl_Position;
        vTextureCoord = aTextureCoord;
    }
	</script>


	<script src="../libs/gl-matrix-0.9.5.js"></script>
	<script src="../scripts/RaWebGL.js"></script>
	<script src="global.js"></script>
</body>
</html>